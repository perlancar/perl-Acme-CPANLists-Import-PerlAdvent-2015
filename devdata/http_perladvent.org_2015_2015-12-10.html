<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Language" content="en" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="WWW::AdventCalendar v1.112" />
    <link rel="alternate" title="Perl Advent Calendar 2015 XML feed" href="atom.xml" type="application/atom+xml" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="2015.css" type="text/css" />
    <title>
Perl Advent Calendar 2015 - 
Just What Are You Installing Now?

</title>
</head>
<body>
    <div id="contentwrapper">
        <div id="header">
            <h1><a href="index.html">Perl Advent Calendar 2015</a></h1>
        </div>

        <p id="tagline">2015 twenty four merry days of Perl
         <a class='feed' href="atom.xml">Feed</a>
        </p>

        <div id="content">
          

<h1 class='title'>Just What Are You Installing Now?</h1>
<div class='subtitle'>Module::CPANFile - 2015-12-10</div>

<div class='pod'><p>Have you ever been installing a Perl module and wondered why the heck a module was being installed? How the heck is <i>that</i> module a dependency of <i>this</i> module? So have I. So I decided to work it out, and when it all got too much to understand easily, I decided to make some pretty graphs:</p>

<h3 id="cpanfile">cpanfile</h3>

<p>The quest to understand why my distribution is requiring all these other modules to be installed starts with my <code>cpanfile</code> file.</p>

<p>The <code>cpanfile</code> format is natural language way of specifying the dependencies that your module needs. Here&#39;s an example one from Stepford:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;<br />19:&nbsp;<br />20:&nbsp;<br />21:&nbsp;<br />22:&nbsp;<br />23:&nbsp;<br />24:&nbsp;<br />25:&nbsp;<br />26:&nbsp;<br />27:&nbsp;<br />28:&nbsp;<br />29:&nbsp;<br />30:&nbsp;<br />31:&nbsp;<br />32:&nbsp;<br />33:&nbsp;<br />34:&nbsp;<br />35:&nbsp;<br />36:&nbsp;<br />37:&nbsp;<br />38:&nbsp;<br />39:&nbsp;<br />40:&nbsp;<br />41:&nbsp;<br />42:&nbsp;<br />43:&nbsp;<br />44:&nbsp;<br />45:&nbsp;<br />46:&nbsp;<br />47:&nbsp;<br />48:&nbsp;<br />49:&nbsp;<br />50:&nbsp;<br />51:&nbsp;<br />52:&nbsp;<br />53:&nbsp;<br />54:&nbsp;<br />55:&nbsp;<br />56:&nbsp;<br />57:&nbsp;<br />58:&nbsp;<br />59:&nbsp;<br />60:&nbsp;<br />61:&nbsp;<br />62:&nbsp;<br />63:&nbsp;<br />64:&nbsp;<br />65:&nbsp;<br />66:&nbsp;<br />67:&nbsp;<br />68:&nbsp;<br />69:&nbsp;<br />70:&nbsp;<br />71:&nbsp;<br />72:&nbsp;<br />73:&nbsp;<br />74:&nbsp;<br />75:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="word">requires</span> <span class="double">&quot;Carp&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;File::Temp&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Forest::Tree&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;List::AllUtils&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Log::Dispatch&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Log::Dispatch::Null&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Module::Pluggable::Object&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Moose&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Moose::Role&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Params::Validate&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::StrictConstructor&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types::Combine&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types::Common::Numeric&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types::Common::String&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types::Moose&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;MooseX::Types::Path::Class&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Parallel::ForkManager&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Path::Class&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Scalar::Util&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Scope::Guard&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Throwable::Error&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Time::HiRes&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;1.9726&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;Try::Tiny&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;namespace::autoclean&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;parent&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;perl&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;5.010&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;strict&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br /><span class="word">requires</span> <span class="double">&quot;warnings&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;<br /><span class="word">on</span> <span class="single">'test'</span> <span class="operator">=&gt;</span> <span class="keyword">sub</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;ExtUtils::MakeMaker&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;File::Copy&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;File::Spec&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;IPC::Signal&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Log::Dispatch::Array&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Differences&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Fatal&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::More&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.96&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Requires&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Warnings&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;autodie&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;lib&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;perl&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;5.010&quot;</span><span class="structure">;</span><br /><span class="structure">};</span><br />&nbsp;<br /><span class="word">on</span> <span class="single">'test'</span> <span class="operator">=&gt;</span> <span class="keyword">sub</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">recommends</span> <span class="double">&quot;CPAN::Meta&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;2.120900&quot;</span><span class="structure">;</span><br /><span class="structure">};</span><br />&nbsp;<br /><span class="word">on</span> <span class="single">'configure'</span> <span class="operator">=&gt;</span> <span class="keyword">sub</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;ExtUtils::MakeMaker&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;perl&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;5.006&quot;</span><span class="structure">;</span><br /><span class="structure">};</span><br />&nbsp;<br /><span class="word">on</span> <span class="single">'develop'</span> <span class="operator">=&gt;</span> <span class="keyword">sub</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Code::TidyAll&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.24&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;File::Spec&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;IO::Handle&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;IPC::Open3&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;IPC::Signal&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Perl::Critic&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;1.123&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Perl::Tidy&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;20140711&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Pod::Coverage::TrustPod&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::CPAN::Changes&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.19&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Code::TidyAll&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.24&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::EOL&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::More&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.88&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::NoTabs&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Pod&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;1.41&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Pod::Coverage&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;1.08&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Spelling&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0.12&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Synopsis&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;0&quot;</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">requires</span> <span class="double">&quot;Test::Version&quot;</span> <span class="operator">=&gt;</span> <span class="double">&quot;1&quot;</span><span class="structure">;</span><br /><span class="structure">};</span></code><br />&nbsp;</td></table>

<p>As you can see this is essentially a list of modules, along with their minimum version requirements, that this distribution either requires or recommends. You&#39;ll also note that are multiple sections for the dependencies, allowing you to specify what dependencies you need to run this module on a production server and which modules you just need when you&#39;re testing or developing the code.</p>

<p>The <code>cpanfile</code> file, which is typically distributed in the top level directory of a distribution, can either be created manually or automatically through inspection of your code by tools like the Dist::Zilla::Plugin::CPANFile plugin for Dist::Zilla. As well as being directly consumed by various tools, it&#39;s often used to produce things like the <code>Makefile.PL</code> and <code>META.yaml</code> and <code>META.json</code> files.</p>

<p>In our case we want to parse it so we can start to build our dependency tree.</p>

<h3 id="Parsing-the-cpanfile-format">Parsing the cpanfile format</h3>

<p>The cpanfile format can easily be parsed with the Module::CPANfile module to give us the list of direct dependencies we need:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">my</span> <span class="symbol">@module_names</span> <span class="operator">=</span> <span class="word">sort</span> <span class="word">Module::CPANfile</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">-&gt;</span><span class="word">load</span><span class="structure">(</span><span class="single">'cpanfile'</span><span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">-&gt;</span><span class="word">prereqs</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">-&gt;</span><span class="word">merged_requirements</span><span class="structure">([</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'runtime'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'build'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'test'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'configure'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'develop'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">]</span><span class="operator">,</span><span class="structure">[</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'requires'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">])</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">-&gt;</span><span class="word">required_modules</span><span class="structure">;</span></code><br />&nbsp;</td></table>

<p>Whoa! That was a little dense. Let&#39;s break this down a little by adding more variables and comments:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="comment"># parse the on disk cpanfile<br /></span><span class="keyword">my</span> <span class="symbol">$cpanfile</span> <span class="operator">=</span> <span class="word">Module::CPANfile</span><span class="operator">-&gt;</span><span class="word">load</span><span class="structure">(</span><span class="single">'cpanfile'</span><span class="structure">);</span><br /><br /><span class="comment"># get the CPAN::Meta::Prereqs instance that represents the prerequisites<br /></span><span class="keyword">my</span> <span class="symbol">$prereqs</span> <span class="operator">=</span> <span class="symbol">$cpanfile</span><span class="operator">-&gt;</span><span class="word">prereqs</span><span class="structure">;</span><br /><br /><span class="comment"># get the CPAN::Meta::Requirements that represents the requirements.  We want<br /># all the possible requirements that this module requires (i.e. those needed<br /># on a live server, but also those needed to build and test and develop it<br /># too) but not optional recommendations<br /></span><span class="keyword">my</span> <span class="symbol">$requirements</span> <span class="operator">=</span> <span class="symbol">$prereqs</span><span class="operator">-&gt;</span><span class="word">merged_requirements</span><span class="structure">([</span><br />&nbsp;&nbsp;<span class="single">'runtime'</span><span class="operator">,</span> <span class="single">'build'</span><span class="operator">,</span> <span class="single">'test'</span><span class="operator">,</span> <span class="single">'configure'</span><span class="operator">,</span> <span class="single">'develop'</span><span class="operator">,</span><br /><span class="structure">]</span><span class="operator">,</span><span class="structure">[</span><br />&nbsp;&nbsp;<span class="single">'requires'</span><span class="operator">,</span><br /><span class="structure">]);</span><br /><br /><span class="comment"># And turn that into a sorted list of modules names<br /></span><span class="keyword">my</span> <span class="symbol">@module_names</span> <span class="operator">=</span> <span class="word">sort</span> <span class="symbol">$requirements</span><span class="operator">-&gt;</span><span class="word">required_modules</span><span class="structure">;</span></code><br />&nbsp;</td></table>

<p>We now know the immediate direct dependencies of our distribution in terms of module names, but how can we work out what distributions those modules are contained in, and in turn what those distributions themselves depend on?</p>

<h3 id="Using-MetaCPAN-to-Produce-a-Full-Dependency-Tree">Using MetaCPAN to Produce a Full Dependency Tree</h3>

<p>MetaCPAN is, aside from being the most useful place to view the documentation and browse the code of everything on the CPAN, at its heart an Elasticsearch database that contains meta information on each of the modules. We can use the MetaCPAN API to ask for the dependencies of modules, their dependencies, and so on to create a graph of each of the modules.</p>

<p>Let&#39;s look at the code that&#39;s needed to do this. First we create an instance of the <code>MetaCPAN::Client</code> that can be used to connect to the MetaCPAN API that sits on top of the Elasticsearch database.</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">my</span> <span class="symbol">$mcpan</span> <span class="operator">=</span> <span class="word">MetaCPAN::Client</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><br />&nbsp;&nbsp;<span class="word">ua</span> <span class="operator">=&gt;</span> <span class="word">HTTP::Tiny::Mech</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">mechua</span> <span class="operator">=&gt;</span> <span class="word">WWW::Mechanize::Cached</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">cache</span> <span class="operator">=&gt;</span> <span class="word">CHI</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">driver</span>   <span class="operator">=&gt;</span> <span class="single">'File'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">root_dir</span> <span class="operator">=&gt;</span> <span class="single">'/tmp/metacpan-cache'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">)</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">)</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="structure">)</span><span class="operator">,</span><br /><span class="structure">);</span></code><br />&nbsp;</td></table>

<p>This invocation makes use of an on-disk cache for each request to MetaCPAN so when we run this script multiple times we don&#39;t need to re-lookup information we&#39;ve already fetched. This both speeds things up and makes the MetaCPAN admins considerably less grumpy!</p>

<p>The code to look up the distribution a module comes in is straightforward:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">sub</span> <span class="word">module_to_dist</span><span class="prototype">($module_name)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$dist</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">unless</span><span class="structure">(</span><span class="word">eval</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$mod_obj</span> <span class="operator">=</span> <span class="symbol">$mcpan</span><span class="operator">-&gt;</span><span class="word">module</span><span class="structure">(</span> <span class="symbol">$module_name</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">$dist</span> <span class="operator">=</span> <span class="symbol">$mod_obj</span><span class="operator">-&gt;</span><span class="word">distribution</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">1</span> <span class="structure">})</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">warn</span> <span class="magic">$@</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="symbol">$dist</span><span class="structure">;</span><br /><span class="structure">}</span><br /><span class="word">memoize</span><span class="structure">(</span><span class="single">'module_to_dist'</span><span class="structure">);</span></code><br />&nbsp;</td></table>

<p>This will allow us to pass in module names like <code>HTTP::Response</code> and get back responses like <code>HTTP-Message</code> to tell us the distribution that contains <code>HTTP::Response</code>.</p>

<p>Similarly we can get the release object back for a given distribution:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">sub</span> <span class="word">dist_to_release</span><span class="prototype">($dist_name)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$release</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">unless</span><span class="structure">(</span><span class="word">eval</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">$release</span> <span class="operator">=</span> <span class="symbol">$mcpan</span><span class="operator">-&gt;</span><span class="word">release</span><span class="structure">(</span> <span class="symbol">$dist_name</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="number">1</span> <span class="structure">})</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">warn</span> <span class="magic">$@</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="symbol">$release</span><span class="structure">;</span><br /><span class="structure">}</span><br /><span class="word">memoize</span><span class="structure">(</span><span class="single">'dist_to_release'</span><span class="structure">);</span></code><br />&nbsp;</td></table>

<p>This release object has a <code>dependency</code> method that returns an array reference containing the names of all the modules this particular release (in this case the latest one on the CPAN for that name) depends on.</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">foreach</span> <span class="keyword">my</span> <span class="symbol">$dep</span> <span class="structure">(</span><span class="symbol">$release</span><span class="operator">-&gt;</span><span class="word">dependency</span><span class="operator">-&gt;</span><span class="magic">@*</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">say</span> <span class="double">&quot; * $dep &quot;</span><span class="structure">;</span><br /><span class="structure">}</span></code><br />&nbsp;</td></table>

<p>Using these two methods we can then easily build a hash mapping dependencies:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;<br />19:&nbsp;<br />20:&nbsp;<br />21:&nbsp;<br />22:&nbsp;<br />23:&nbsp;<br />24:&nbsp;<br />25:&nbsp;<br />26:&nbsp;<br />27:&nbsp;<br />28:&nbsp;<br />29:&nbsp;<br />30:&nbsp;<br />31:&nbsp;<br />32:&nbsp;<br />33:&nbsp;<br />34:&nbsp;<br />35:&nbsp;<br />36:&nbsp;<br />37:&nbsp;<br />38:&nbsp;<br />39:&nbsp;<br />40:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">my</span> <span class="symbol">%map</span><span class="structure">;</span><br /><span class="keyword">sub</span> <span class="word">add_mapping</span><span class="prototype">($from, $to)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">$map</span><span class="structure">{</span> <span class="symbol">$from</span> <span class="structure">}</span> <span class="operator">||=</span> <span class="structure">[];</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">push</span> <span class="symbol">$map</span><span class="structure">{</span> <span class="symbol">$from</span> <span class="structure">}</span><span class="operator">-&gt;</span><span class="magic">@*</span><span class="operator">,</span> <span class="symbol">$to</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span class="structure">;</span><br /><span class="structure">}</span><br /><br /><span class="keyword">sub</span> <span class="word">lookup_module</span><span class="prototype">($module_name)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="word">if</span> <span class="symbol">$map</span><span class="structure">{</span> <span class="double">&quot;mod:$module_name&quot;</span> <span class="structure">};</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="word">if</span> <span class="symbol">$module_name</span> <span class="operator">eq</span> <span class="single">'perl'</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="word">if</span> <span class="word">Module::CoreList</span><span class="operator">-&gt;</span><span class="word">first_release</span><span class="structure">(</span> <span class="symbol">$module_name</span> <span class="structure">);</span><br /><br /><span class="comment">    # work out the distribution for this module<br /></span>    <span class="keyword">my</span> <span class="symbol">$dist</span> <span class="operator">=</span> <span class="word">module_to_dist</span><span class="structure">(</span> <span class="symbol">$module_name</span> <span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">or</span> <span class="keyword">return</span><span class="structure">;</span><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">add_mapping</span><span class="structure">(</span> <span class="double">&quot;mod:$module_name&quot;</span><span class="operator">,</span> <span class="double">&quot;dist:$dist&quot;</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">lookup_dist</span><span class="structure">(</span><span class="symbol">$dist</span><span class="structure">);</span><br /><span class="structure">}</span><br /><br /><span class="keyword">sub</span> <span class="word">lookup_dist</span><span class="prototype">($dist)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="word">if</span> <span class="symbol">$map</span><span class="structure">{</span> <span class="double">&quot;dist:$dist&quot;</span> <span class="structure">};</span><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$release</span> <span class="operator">=</span> <span class="word">dist_to_release</span><span class="structure">(</span> <span class="symbol">$dist</span> <span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="operator">or</span> <span class="keyword">return</span><span class="structure">;</span><br /><br /><span class="comment">    # okay, need to work out this distribution's dependencies and repeat<br /></span>    <span class="keyword">foreach</span> <span class="keyword">my</span> <span class="symbol">$dep</span> <span class="structure">(</span><span class="symbol">$release</span><span class="operator">-&gt;</span><span class="word">dependency</span><span class="operator">-&gt;</span><span class="magic">@*</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="symbol">$mod</span> <span class="operator">=</span> <span class="symbol">$dep</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">module</span><span class="structure">};</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">next</span> <span class="word">if</span> <span class="symbol">$mod</span> <span class="operator">eq</span> <span class="single">'perl'</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">next</span> <span class="word">if</span> <span class="word">Module::CoreList</span><span class="operator">-&gt;</span><span class="word">first_release</span><span class="structure">(</span> <span class="symbol">$mod</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">add_mapping</span><span class="structure">(</span> <span class="double">&quot;dist:$dist&quot;</span><span class="operator">,</span> <span class="double">&quot;mod:$mod&quot;</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">lookup_module</span><span class="structure">(</span><span class="symbol">$mod</span><span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="structure">}</span><br /><span class="structure">}</span><br /><br /><span class="keyword">foreach</span> <span class="structure">(</span><span class="symbol">@module_names</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">add_mapping</span><span class="structure">(</span> <span class="single">'cpanfile'</span><span class="operator">,</span> <span class="double">&quot;mod:$_&quot;</span> <span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">lookup_module</span><span class="structure">(</span><span class="magic">$_</span><span class="structure">);</span><br /><span class="structure">}</span></code><br />&nbsp;</td></table>

<p>And then you can obviously dump that out to as JSON into a
<a href="stepford.js">JavaScript file</a>.</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="word">print</span> <span class="single">'data='</span><span class="operator">.</span><span class="word">encode_json</span><span class="structure">(</span><span class="cast">\</span><span class="symbol">%map</span><span class="structure">);</span></code><br />&nbsp;</td></table>

<h3 id="Graphing">Graphing</h3>

<p>As comprehensive as this data structure is, it&#39;s not easy to understand at a glance. What we want to do is turn this into some sort of easy to follow directed graph with nodes for the distributions and modules connected together with lines representing the dependencies.</p>

<p>Any number of JavaScript libraries can be used to turn the chunk of JavaScript we just created into an on-screen graph in a web browser. My personal favorite is VivaGraph, simply because CPAN dependency graphs can get very very large and it has excellent performance on larger graphs, especially when used in WebGL mode opposed to the default SVG rendering engine.</p>

<p>The actual code to build the graph is fairly straightforward:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="word">var</span> <span class="word">graph</span> <span class="operator">=</span> <span class="word">Viva</span><span class="operator">.</span><span class="word">Graph</span><span class="operator">.</span><span class="word">graph</span><span class="structure">();</span><br /><br /><span class="word">var</span> <span class="word">nodesAlreadyAdded</span> <span class="operator">=</span> <span class="structure">{};</span><br /><span class="word">var</span> <span class="word">maybeAddNode</span> <span class="operator">=</span> <span class="word">function</span><span class="structure">(</span><span class="word">nodeName</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> <span class="structure">(</span><span class="word">nodesAlreadyAdded</span><span class="structure">[</span><span class="word">nodeName</span><span class="structure">])</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">nodesAlreadyAdded</span><span class="structure">[</span><span class="word">nodeName</span><span class="structure">]</span> <span class="operator">=</span> <span class="number">1</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">graph</span><span class="operator">.</span><span class="word">addNode</span><span class="structure">(</span><span class="word">nodeName</span><span class="structure">);</span><br /><span class="structure">}</span><br /><span class="word">var</span> <span class="word">addEdge</span> <span class="operator">=</span> <span class="word">function</span><span class="structure">(</span><span class="word">from</span><span class="operator">,</span><span class="word">to</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">maybeAddNode</span><span class="structure">(</span><span class="word">from</span><span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">maybeAddNode</span><span class="structure">(</span><span class="word">to</span><span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">graph</span><span class="operator">.</span><span class="word">addLink</span><span class="structure">(</span><span class="word">from</span><span class="operator">,</span> <span class="word">to</span><span class="structure">);</span><br /><span class="structure">}</span><br /><span class="word">for</span> <span class="structure">(</span><span class="word">var</span> <span class="word">key</span> <span class="word">in</span> <span class="word">data</span><span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">for</span> <span class="structure">(</span><span class="word">var</span> <span class="word">index</span> <span class="operator">=</span> <span class="number">0</span><span class="structure">;</span> <span class="word">index</span><span class="operator">&lt;</span><span class="word">data</span><span class="structure">[</span><span class="word">key</span><span class="structure">]</span><span class="operator">.</span><span class="word">length</span><span class="structure">;</span> <span class="word">index</span><span class="operator">++</span><span class="structure">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">addEdge</span><span class="structure">(</span> <span class="word">key</span><span class="operator">,</span> <span class="word">data</span><span class="structure">[</span><span class="word">key</span><span class="structure">][</span><span class="word">index</span><span class="structure">]</span> <span class="structure">);</span></code><br />&nbsp;</td></table>

<p>VivaGraph is quite customizable, and the full code to fiddle with the
presentation options, switch on WebGL mode, add custom colors, labels, alter
the length of the links depending what's linking, etc, etc is all worth 
<a href="graph-script.js">taking a look</a>.

<h3 id="Conclusion">Conclusion</h3>

<p>Several projects I work on install half of the CPAN. While this is a good thing (since I don&#39;t have to write or maintain all the code that constitutes half of the CPAN,) I often find I end up depending on some hard to install or unreliable module. By graphing my dependency tree I can work out exactly why I&#39;m depending on a module and work out what steps I can take to mitigate the situation.</p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<ul>

<li><p><a href="https://metacpan.org/module/Module::CPANfile">Module::CPANfile</a></p>

</li>
<li><p><a href="https://metacpan.org/module/MetaCPAN::Client">MetaCPAN::Client</a></p>

</li>
<li><p><a href="https://metacpan.org/module/WWW::Mechanize::Cached">WWW::Mechanize::Cached</a></p>

</li>
<li><p><a href="https://github.com/anvaka/VivaGraphJS">https://github.com/anvaka/VivaGraphJS</a></p>

</li>
</ul>

</div>

<div id='author'>
<img alt='Gravatar Image' style='vertical-align:middle' src=http://www.gravatar.com/avatar/5d71b5f0c61e97cd452d625cc24a4c82?r=g&s=80&d=retro />
This article contributed by: Mark Fowler &lt;mark@twoshortplanks.com&gt;
</div>


<ul id="pager">
    <li class="previous"><a title="Scrape the Halls" href="2015-12-09.html">Previous</a></li>

    <li class="next"><a title="Extracting more value out of your script&#39;s comments" href="2015-12-11.html">Next</a></li>
</ul>
<div style="clear: both"></div>

        </div>

    </div>



<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-27056407-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>





